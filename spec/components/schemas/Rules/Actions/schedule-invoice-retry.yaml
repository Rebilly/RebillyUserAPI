description: "Schedule an invoice retry"
allOf:
- $ref: "#/components/schemas/RuleAction"
- type: object
  properties:
    attempts:
      type: array
      minItems: 1
      items:
        type: object
        properties:
          scheduleInstruction:
            $ref: "#/components/schemas/CommonScheduleInstruction"
        required:
        - scheduleInstruction
    afterAttemptPolicy:
      description: The policy on the attempt finishes
      type: string
      enum:
      - "none"
      - "change-subscription-renewal-time"
    afterRetryEndPolicy:
      description: The policy on the retry ends
      type: string
      enum:
      - "none"
      - "void-invoice"
      - "cancel-subscription"
    overwriteScheduleInstruction:
      description: Whether to replace the existing retry or not
      type: boolean
  required:
  - attempts
  - afterAttemptPolicy
  - afterRetryEndPolicy
  - overwriteScheduleInstruction

